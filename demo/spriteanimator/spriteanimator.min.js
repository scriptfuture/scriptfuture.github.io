var SpriteAnimator=function(){var c=0,m=!0,d=[],n=this,f,e,q,r,g,l;this.statusPlay=!1;this.init=function(b){var a=document.createElement("h1");$(a).css({color:"#171819","font-family":"Arial, Geneva, Helvetica, sans-serif","font-size":"18px",margin:"3px"});a.appendChild(document.createTextNode("\u0410\u043d\u0438\u043c\u0430\u0442\u043e\u0440 \u0441\u043f\u0440\u0430\u0439\u0442\u043e\u0432"));$("body").append(a);var h=document.createTextNode("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439..."), a=document.createElement("div");a.appendChild(h);$("body").append(a);for(var k in b)h=new Image,h.src=b[k],d.push({image:h,delay:100});$(a).hide();b=document.createElement("div");$(b).css({color:"#171819","font-family":"Arial, Geneva, Helvetica, sans-serif","font-size":"14px","font-weight":"100",top:"20px",width:"100%"});b.appendChild(document.createElement("br"));b.appendChild(document.createTextNode("\u0428\u0438\u0440\u0438\u043d\u0430: "));f=document.createElement("input");f.type="text";$(f).css({width:"80px", color:"#171819","font-family":"Arial, Geneva, Helvetica, sans-serif","font-size":"14px"});f.onchange=function(a){""!=this.value?d[c].image.width=this.value:$(d[c].image).removeAttr("width")};b.appendChild(f);$(b).append("&nbsp;&nbsp; \u0412\u044b\u0441\u043e\u0442\u0430: ");e=document.createElement("input");e.type="text";e.value="500";$(e).css({width:"80px",color:"#171819","font-family":"Arial, Geneva, Helvetica, sans-serif","font-size":"14px"});e.onchange=function(a){""!=this.value?d[c].image.height= this.value:$(d[c].image).removeAttr("height")};b.appendChild(e);$(b).append("&nbsp;&nbsp;&nbsp;&nbsp; \u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f: ");l=document.createElement("input");l.type="button";l.value="< \u043d\u0430\u0437\u0430\u0434";$(l).css({width:"80px",color:"#171819","font-family":"Arial, Geneva, Helvetica, sans-serif","font-size":"14px"});l.onclick=function(a){g.disabled=!1;0==c?m&&(c=d.length-1):c--;""!=f.value?d[c].image.width=f.value:$(d[c].image).removeAttr("width"); ""!=e.value?d[c].image.height=e.value:$(d[c].image).removeAttr("height");$(q).html(d[c].image);$(r).html("\u041a\u0430\u0434\u0440 "+(c+1)+": "+d[c].image.src+" <br>");0!=c||m||(this.disabled=!0)};b.appendChild(l);g=document.createElement("input");g.type="button";g.value="\u0432\u043f\u0435\u0440\u0451\u0434 >";$(g).css({width:"80px",color:"#171819","font-family":"Arial, Geneva, Helvetica, sans-serif","font-size":"14px"});g.onclick=function(a){n.forward()};b.appendChild(g);$(b).append("&nbsp;&nbsp;&nbsp;&nbsp; \u041f\u0440\u043e\u0438\u0433\u0440\u044b\u0432\u0430\u0442\u0435\u043b\u044c: "); var p=document.createElement("input");p.type="button";p.value="\u0441\u0442\u0430\u0440\u0442";$(p).css({width:"80px",color:"#171819","font-family":"Arial, Geneva, Helvetica, sans-serif","font-size":"14px"});p.onclick=function(a){n.statusPlay?(n.statusPlay=!1,this.value="\u0438\u0433\u0440\u0430\u0442\u044c"):(n.statusPlay=!0,this.value="\u043f\u0430\u0443\u0437\u0430",spriteAnimatorPlay())};b.appendChild(p);a=document.createElement("input");a.type="button";a.value="\u0441\u0442\u043e\u043f";$(a).css({width:"80px", color:"#171819","font-family":"Arial, Geneva, Helvetica, sans-serif","font-size":"14px"});a.onclick=function(a){n.statusPlay=!1;p.value="\u0438\u0433\u0440\u0430\u0442\u044c";c=-1;n.forward()};b.appendChild(a);$(b).append("&nbsp;&nbsp;&nbsp;&nbsp; \u041f\u043e\u0432\u0442\u043e\u0440: ");a=document.createElement("input");a.checked="checked";a.type="checkbox";$(a).css({"font-family":"Arial, Geneva, Helvetica, sans-serif",color:"#171819"});a.onclick=function(a){m=m?!1:!0;return!0};b.appendChild(a); b.appendChild(document.createElement("hr"));r=document.createElement("div");$(r).html("\u041a\u0430\u0434\u0440 "+(c+1)+": "+d[c].image.src+" <br>");b.appendChild(r);q=document.createElement("div");d[c].image.height=500;q.appendChild(d[c].image);b.appendChild(q);b.appendChild(document.createElement("hr"));a=document.createElement("h3");$(a).css({color:"#171819","font-family":"Arial, Geneva, Helvetica, sans-serif","font-size":"16px","margin-top":"15px"});a.appendChild(document.createTextNode("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043a\u0430\u0434\u0440\u043e\u0432")); b.appendChild(a);for(k in d)a=Number(k)+1,h=document.createElement("h5"),$(h).css({color:"#171819","font-family":"Arial, Geneva, Helvetica, sans-serif","font-size":"14px","margin-top":"10px"}),h.appendChild(document.createTextNode("\u041a\u0430\u0434\u0440 "+a)),b.appendChild(h),b.appendChild(document.createTextNode("\u041f\u0443\u0442\u044c: ")),a=document.createElement("input"),a.value=d[k].image.src,a.style.width="700px",a.setAttribute("frame",k),a.onchange=function(a){a=this.getAttribute("frame"); d[a].image.src=this.value},b.appendChild(a),b.appendChild(document.createElement("br")),b.appendChild(document.createTextNode("\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430: ")),a=document.createElement("input"),a.value=d[k].delay,a.style.width="100px",a.setAttribute("frame",k),a.onchange=function(a){a=this.getAttribute("frame");d[a].delay=this.value},b.appendChild(a),b.appendChild(document.createTextNode(" \u043c\u0441")),b.appendChild(document.createElement("br")),b.appendChild(document.createTextNode("\u041f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c: ")), a=document.createElement("input"),a.value=1,a.style.width="100px",a.setAttribute("frame",k),a.onchange=function(a){a=this.getAttribute("frame");d[a].image.style.opacity=this.value},b.appendChild(a),b.appendChild(document.createTextNode(" \u043e\u0442 0 \u0434\u043e 1 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 0.3)")),b.appendChild(document.createElement("br")),b.appendChild(document.createElement("br"));$("body").append(b);return 0};this.forward=function(){l.disabled=!1;c==d.length-1?m&&(c= 0):c++;""!=f.value?d[c].image.width=f.value:$(d[c].image).removeAttr("width");""!=e.value?d[c].image.height=e.value:$(d[c].image).removeAttr("height");$(q).html(d[c].image);$(r).html("\u041a\u0430\u0434\u0440 "+(c+1)+": "+d[c].image.src+" <br>");return c!=d.length-1||m?!0:(g.disabled=!0,!1)};this.getDelay=function(){return d[c].delay}},spriteanimator=new SpriteAnimator; function spriteAnimatorPlay(){if(spriteanimator.statusPlay&&spriteanimator.forward()){var c=spriteanimator.getDelay();setTimeout("spriteAnimatorPlay()",c)}};